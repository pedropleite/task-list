{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\n\nconst useFetch = (parameter, setError, setIsLoading, setTasks, taskText) => {\n  _s();\n\n  // setIsLoading(true);\n  // setError(null);\n  const [parametro, setParametro] = useState(parameter);\n  useEffect(() => {\n    let content = null;\n\n    if (parameter) {\n      content = ('https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json', {\n        method: 'POST',\n        body: JSON.stringify({\n          text: taskText\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n    } else {\n      content = 'https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json';\n    }\n\n    fetch(content).then(response => {\n      if (!response.ok) {\n        throw new Error('Request failed!');\n      }\n\n      return response.json();\n    }).then(data => {\n      if (!parameter) {\n        const loadedTasks = [];\n\n        for (const taskKey in data) {\n          loadedTasks.push({\n            id: taskKey,\n            text: data[taskKey].text\n          });\n        }\n\n        console.log('1');\n        setTasks(loadedTasks);\n      } else {\n        console.log('2');\n        const generatedId = data.name;\n        const createdTask = {\n          id: generatedId,\n          text: taskText\n        };\n      }\n    }).catch(err => {\n      setError(err.message || 'Something went wrong!');\n    });\n  }, [parametro]); // setIsLoading(false);\n};\n\n_s(useFetch, \"/g0h4sbycoMlR2xZMgx80uPRvTo=\");\n\nexport default useFetch;","map":{"version":3,"names":["useEffect","useState","useFetch","parameter","setError","setIsLoading","setTasks","taskText","parametro","setParametro","content","method","body","JSON","stringify","text","headers","fetch","then","response","ok","Error","json","data","loadedTasks","taskKey","push","id","console","log","generatedId","name","createdTask","catch","err","message"],"sources":["C:/Users/Sueli Cabral/Desktop/04-onwards-to-a-more-realistic-example/src/hooks/useFetch.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nconst useFetch = (parameter, setError, setIsLoading, setTasks, taskText) => {\r\n    // setIsLoading(true);\r\n    // setError(null);\r\n\r\n    const [parametro, setParametro] = useState(parameter);\r\n\r\n    useEffect(() => {\r\n        let content = null;\r\n\r\n        if (parameter) {\r\n            content =\r\n                ('https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json',\r\n                {\r\n                    method: 'POST',\r\n                    body: JSON.stringify({ text: taskText }),\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                });\r\n        } else {\r\n            content = 'https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json';\r\n        }\r\n\r\n        fetch(content)\r\n            .then((response) => {\r\n                if (!response.ok) {\r\n                    throw new Error('Request failed!');\r\n                }\r\n\r\n                return response.json();\r\n            })\r\n            .then((data) => {\r\n                if (!parameter) {\r\n                    const loadedTasks = [];\r\n                    for (const taskKey in data) {\r\n                        loadedTasks.push({ id: taskKey, text: data[taskKey].text });\r\n                    }\r\n                    console.log('1');\r\n                    setTasks(loadedTasks);\r\n                } else {\r\n                    console.log('2');\r\n                    const generatedId = data.name;\r\n                    const createdTask = { id: generatedId, text: taskText };\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                setError(err.message || 'Something went wrong!');\r\n            });\r\n    }, [parametro]);\r\n\r\n    // setIsLoading(false);\r\n};\r\n\r\nexport default useFetch;\r\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,MAAMC,QAAQ,GAAG,CAACC,SAAD,EAAYC,QAAZ,EAAsBC,YAAtB,EAAoCC,QAApC,EAA8CC,QAA9C,KAA2D;EAAA;;EACxE;EACA;EAEA,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAACE,SAAD,CAA1C;EAEAH,SAAS,CAAC,MAAM;IACZ,IAAIU,OAAO,GAAG,IAAd;;IAEA,IAAIP,SAAJ,EAAe;MACXO,OAAO,IACF,qEACD;QACIC,MAAM,EAAE,MADZ;QAEIC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;UAAEC,IAAI,EAAER;QAAR,CAAf,CAFV;QAGIS,OAAO,EAAE;UACL,gBAAgB;QADX;MAHb,CAFG,CAAP;IASH,CAVD,MAUO;MACHN,OAAO,GAAG,mEAAV;IACH;;IAEDO,KAAK,CAACP,OAAD,CAAL,CACKQ,IADL,CACWC,QAAD,IAAc;MAChB,IAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;QACd,MAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;MACH;;MAED,OAAOF,QAAQ,CAACG,IAAT,EAAP;IACH,CAPL,EAQKJ,IARL,CAQWK,IAAD,IAAU;MACZ,IAAI,CAACpB,SAAL,EAAgB;QACZ,MAAMqB,WAAW,GAAG,EAApB;;QACA,KAAK,MAAMC,OAAX,IAAsBF,IAAtB,EAA4B;UACxBC,WAAW,CAACE,IAAZ,CAAiB;YAAEC,EAAE,EAAEF,OAAN;YAAeV,IAAI,EAAEQ,IAAI,CAACE,OAAD,CAAJ,CAAcV;UAAnC,CAAjB;QACH;;QACDa,OAAO,CAACC,GAAR,CAAY,GAAZ;QACAvB,QAAQ,CAACkB,WAAD,CAAR;MACH,CAPD,MAOO;QACHI,OAAO,CAACC,GAAR,CAAY,GAAZ;QACA,MAAMC,WAAW,GAAGP,IAAI,CAACQ,IAAzB;QACA,MAAMC,WAAW,GAAG;UAAEL,EAAE,EAAEG,WAAN;UAAmBf,IAAI,EAAER;QAAzB,CAApB;MACH;IACJ,CArBL,EAsBK0B,KAtBL,CAsBYC,GAAD,IAAS;MACZ9B,QAAQ,CAAC8B,GAAG,CAACC,OAAJ,IAAe,uBAAhB,CAAR;IACH,CAxBL;EAyBH,CA1CQ,EA0CN,CAAC3B,SAAD,CA1CM,CAAT,CANwE,CAkDxE;AACH,CAnDD;;GAAMN,Q;;AAqDN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}