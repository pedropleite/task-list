{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from 'react';\n\nconst useFetch = (request, requestConfig) => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  setIsLoading(true);\n  setError(null);\n  let content = null;\n\n  if (request.parameter) {\n    content = {\n      method: 'POST',\n      body: JSON.stringify({\n        text: request.taskText\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n  }\n\n  fetch('https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json', {\n    content\n  }).then(response => {\n    if (!response.ok) {\n      throw new Error('Request failed!');\n    }\n\n    return response.json();\n  }).then(data => {\n    if (!request.parameter) {\n      const loadedTasks = [];\n\n      for (const taskKey in data) {\n        loadedTasks.push({\n          id: taskKey,\n          text: data[taskKey].text\n        });\n      }\n\n      request.setTasks(loadedTasks);\n    } else {\n      const generatedId = data.name;\n      const createdTask = {\n        id: generatedId,\n        text: request.taskText\n      };\n      request.onAddTask(createdTask);\n    }\n  }).catch(err => {\n    setError(err.message || 'Something went wrong!');\n  });\n  setIsLoading(false);\n  return {\n    isLoading,\n    error\n  };\n};\n\n_s(useFetch, \"vj++RuHna9NxFPGCY0p/mi1GZNM=\");\n\nexport default useFetch;","map":{"version":3,"names":["useState","useFetch","request","requestConfig","isLoading","setIsLoading","error","setError","content","parameter","method","body","JSON","stringify","text","taskText","headers","fetch","then","response","ok","Error","json","data","loadedTasks","taskKey","push","id","setTasks","generatedId","name","createdTask","onAddTask","catch","err","message"],"sources":["C:/Users/Sueli Cabral/Desktop/04-onwards-to-a-more-realistic-example/src/hooks/useFetch.js"],"sourcesContent":["import { useState } from 'react';\r\n\r\nconst useFetch = (request, requestConfig) => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    setIsLoading(true);\r\n    setError(null);\r\n    let content = null;\r\n\r\n    if (request.parameter) {\r\n        content = {\r\n            method: 'POST',\r\n            body: JSON.stringify({ text: request.taskText }),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        };\r\n    }\r\n\r\n    fetch('https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json', { content })\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                throw new Error('Request failed!');\r\n            }\r\n\r\n            return response.json();\r\n        })\r\n        .then((data) => {\r\n            if (!request.parameter) {\r\n                const loadedTasks = [];\r\n                for (const taskKey in data) {\r\n                    loadedTasks.push({ id: taskKey, text: data[taskKey].text });\r\n                }\r\n                request.setTasks(loadedTasks);\r\n            } else {\r\n                const generatedId = data.name;\r\n                const createdTask = { id: generatedId, text: request.taskText };\r\n                request.onAddTask(createdTask);\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            setError(err.message || 'Something went wrong!');\r\n        });\r\n\r\n    setIsLoading(false);\r\n\r\n    return {\r\n        isLoading,\r\n        error,\r\n    };\r\n};\r\n\r\nexport default useFetch;\r\n"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;;AAEA,MAAMC,QAAQ,GAAG,CAACC,OAAD,EAAUC,aAAV,KAA4B;EAAA;;EACzC,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,IAAD,CAAlC;EAEAK,YAAY,CAAC,IAAD,CAAZ;EACAE,QAAQ,CAAC,IAAD,CAAR;EACA,IAAIC,OAAO,GAAG,IAAd;;EAEA,IAAIN,OAAO,CAACO,SAAZ,EAAuB;IACnBD,OAAO,GAAG;MACNE,MAAM,EAAE,MADF;MAENC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAAEC,IAAI,EAAEZ,OAAO,CAACa;MAAhB,CAAf,CAFA;MAGNC,OAAO,EAAE;QACL,gBAAgB;MADX;IAHH,CAAV;EAOH;;EAEDC,KAAK,CAAC,mEAAD,EAAsE;IAAET;EAAF,CAAtE,CAAL,CACKU,IADL,CACWC,QAAD,IAAc;IAChB,IAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;MACd,MAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;IACH;;IAED,OAAOF,QAAQ,CAACG,IAAT,EAAP;EACH,CAPL,EAQKJ,IARL,CAQWK,IAAD,IAAU;IACZ,IAAI,CAACrB,OAAO,CAACO,SAAb,EAAwB;MACpB,MAAMe,WAAW,GAAG,EAApB;;MACA,KAAK,MAAMC,OAAX,IAAsBF,IAAtB,EAA4B;QACxBC,WAAW,CAACE,IAAZ,CAAiB;UAAEC,EAAE,EAAEF,OAAN;UAAeX,IAAI,EAAES,IAAI,CAACE,OAAD,CAAJ,CAAcX;QAAnC,CAAjB;MACH;;MACDZ,OAAO,CAAC0B,QAAR,CAAiBJ,WAAjB;IACH,CAND,MAMO;MACH,MAAMK,WAAW,GAAGN,IAAI,CAACO,IAAzB;MACA,MAAMC,WAAW,GAAG;QAAEJ,EAAE,EAAEE,WAAN;QAAmBf,IAAI,EAAEZ,OAAO,CAACa;MAAjC,CAApB;MACAb,OAAO,CAAC8B,SAAR,CAAkBD,WAAlB;IACH;EACJ,CApBL,EAqBKE,KArBL,CAqBYC,GAAD,IAAS;IACZ3B,QAAQ,CAAC2B,GAAG,CAACC,OAAJ,IAAe,uBAAhB,CAAR;EACH,CAvBL;EAyBA9B,YAAY,CAAC,KAAD,CAAZ;EAEA,OAAO;IACHD,SADG;IAEHE;EAFG,CAAP;AAIH,CAjDD;;GAAML,Q;;AAmDN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}