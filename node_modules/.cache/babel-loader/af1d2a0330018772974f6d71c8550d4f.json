{"ast":null,"code":"const useFetch = (parameter, setError, setIsLoading, setTasks, taskText) => {\n  setIsLoading(true);\n  setError(null);\n  let createdTask = null;\n  fetch('https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json', parameter && {\n    method: 'POST',\n    body: JSON.stringify({\n      text: taskText\n    }),\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  }).then(response => {\n    if (!response.ok) {\n      throw new Error('Request failed!');\n    }\n\n    return response.json();\n  }).then(data => {\n    if (!parameter) {\n      const loadedTasks = [];\n\n      for (const taskKey in data) {\n        loadedTasks.push({\n          id: taskKey,\n          text: data[taskKey].text\n        });\n      }\n\n      setTasks(loadedTasks);\n    } else {\n      const generatedId = data.name;\n      createdTask = {\n        id: generatedId,\n        text: taskText\n      };\n      setTasks(prevTasks => prevTasks.concat(createdTask));\n      return createdTask;\n    }\n  }).catch(err => {\n    setError(err.message || 'Something went wrong!');\n  });\n  setIsLoading(false);\n};\n\nexport default useFetch;","map":{"version":3,"names":["useFetch","parameter","setError","setIsLoading","setTasks","taskText","createdTask","fetch","method","body","JSON","stringify","text","headers","then","response","ok","Error","json","data","loadedTasks","taskKey","push","id","generatedId","name","prevTasks","concat","catch","err","message"],"sources":["C:/Users/Sueli Cabral/Desktop/04-onwards-to-a-more-realistic-example/src/hooks/useFetch.js"],"sourcesContent":["const useFetch = (parameter, setError, setIsLoading, setTasks, taskText) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n    let createdTask = null;\r\n\r\n    fetch(\r\n        'https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json',\r\n        parameter && {\r\n            method: 'POST',\r\n            body: JSON.stringify({ text: taskText }),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        }\r\n    )\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                throw new Error('Request failed!');\r\n            }\r\n\r\n            return response.json();\r\n        })\r\n        .then((data) => {\r\n            if (!parameter) {\r\n                const loadedTasks = [];\r\n                for (const taskKey in data) {\r\n                    loadedTasks.push({ id: taskKey, text: data[taskKey].text });\r\n                }\r\n\r\n                setTasks(loadedTasks);\r\n            } else {\r\n                const generatedId = data.name;\r\n                createdTask = { id: generatedId, text: taskText };\r\n\r\n                setTasks((prevTasks) => prevTasks.concat(createdTask));\r\n                return createdTask;\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            setError(err.message || 'Something went wrong!');\r\n        });\r\n\r\n    setIsLoading(false);\r\n};\r\n\r\nexport default useFetch;\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,CAACC,SAAD,EAAYC,QAAZ,EAAsBC,YAAtB,EAAoCC,QAApC,EAA8CC,QAA9C,KAA2D;EACxEF,YAAY,CAAC,IAAD,CAAZ;EACAD,QAAQ,CAAC,IAAD,CAAR;EACA,IAAII,WAAW,GAAG,IAAlB;EAEAC,KAAK,CACD,mEADC,EAEDN,SAAS,IAAI;IACTO,MAAM,EAAE,MADC;IAETC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MAAEC,IAAI,EAAEP;IAAR,CAAf,CAFG;IAGTQ,OAAO,EAAE;MACL,gBAAgB;IADX;EAHA,CAFZ,CAAL,CAUKC,IAVL,CAUWC,QAAD,IAAc;IAChB,IAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;MACd,MAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;IACH;;IAED,OAAOF,QAAQ,CAACG,IAAT,EAAP;EACH,CAhBL,EAiBKJ,IAjBL,CAiBWK,IAAD,IAAU;IACZ,IAAI,CAAClB,SAAL,EAAgB;MACZ,MAAMmB,WAAW,GAAG,EAApB;;MACA,KAAK,MAAMC,OAAX,IAAsBF,IAAtB,EAA4B;QACxBC,WAAW,CAACE,IAAZ,CAAiB;UAAEC,EAAE,EAAEF,OAAN;UAAeT,IAAI,EAAEO,IAAI,CAACE,OAAD,CAAJ,CAAcT;QAAnC,CAAjB;MACH;;MAEDR,QAAQ,CAACgB,WAAD,CAAR;IACH,CAPD,MAOO;MACH,MAAMI,WAAW,GAAGL,IAAI,CAACM,IAAzB;MACAnB,WAAW,GAAG;QAAEiB,EAAE,EAAEC,WAAN;QAAmBZ,IAAI,EAAEP;MAAzB,CAAd;MAEAD,QAAQ,CAAEsB,SAAD,IAAeA,SAAS,CAACC,MAAV,CAAiBrB,WAAjB,CAAhB,CAAR;MACA,OAAOA,WAAP;IACH;EACJ,CAhCL,EAiCKsB,KAjCL,CAiCYC,GAAD,IAAS;IACZ3B,QAAQ,CAAC2B,GAAG,CAACC,OAAJ,IAAe,uBAAhB,CAAR;EACH,CAnCL;EAqCA3B,YAAY,CAAC,KAAD,CAAZ;AACH,CA3CD;;AA6CA,eAAeH,QAAf"},"metadata":{},"sourceType":"module"}