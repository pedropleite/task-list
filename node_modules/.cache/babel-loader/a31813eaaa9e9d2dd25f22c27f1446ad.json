{"ast":null,"code":"import { useEffect } from 'react';\n\nconst useFetch = (parameter, setError, setIsLoading, setTasks, taskText) => {\n  // setIsLoading(true);\n  // setError(null);\n  let content = null;\n\n  if (parameter) {\n    content = ('https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json', {\n      method: 'POST',\n      body: JSON.stringify({\n        text: taskText\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  } else {\n    content = 'https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json';\n  }\n\n  fetch(content).then(response => {\n    if (!response.ok) {\n      throw new Error('Request failed!');\n    }\n\n    return response.json();\n  }).then(data => {\n    console.log('inside');\n\n    if (!parameter) {\n      const loadedTasks = [];\n\n      for (const taskKey in data) {\n        loadedTasks.push({\n          id: taskKey,\n          text: data[taskKey].text\n        });\n      }\n\n      console.log('1');\n      setTasks(loadedTasks);\n    } else {\n      console.log('2');\n      const generatedId = data.name;\n      const createdTask = {\n        id: generatedId,\n        text: taskText\n      };\n    }\n  }).catch(err => {\n    setError(err.message || 'Something went wrong!');\n  }); // setIsLoading(false);\n};\n\nexport default useFetch;","map":{"version":3,"names":["useEffect","useFetch","parameter","setError","setIsLoading","setTasks","taskText","content","method","body","JSON","stringify","text","headers","fetch","then","response","ok","Error","json","data","console","log","loadedTasks","taskKey","push","id","generatedId","name","createdTask","catch","err","message"],"sources":["C:/Users/Sueli Cabral/Desktop/04-onwards-to-a-more-realistic-example/src/hooks/useFetch.js"],"sourcesContent":["import { useEffect } from 'react';\r\n\r\nconst useFetch = (parameter, setError, setIsLoading, setTasks, taskText) => {\r\n    // setIsLoading(true);\r\n    // setError(null);\r\n    let content = null;\r\n\r\n    if (parameter) {\r\n        content =\r\n            ('https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json',\r\n            {\r\n                method: 'POST',\r\n                body: JSON.stringify({ text: taskText }),\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n    } else {\r\n        content = 'https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json';\r\n    }\r\n\r\n    fetch(content)\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                throw new Error('Request failed!');\r\n            }\r\n\r\n            return response.json();\r\n        })\r\n        .then((data) => {\r\n            console.log('inside');\r\n            if (!parameter) {\r\n                const loadedTasks = [];\r\n                for (const taskKey in data) {\r\n                    loadedTasks.push({ id: taskKey, text: data[taskKey].text });\r\n                }\r\n                console.log('1');\r\n                setTasks(loadedTasks);\r\n            } else {\r\n                console.log('2');\r\n                const generatedId = data.name;\r\n                const createdTask = { id: generatedId, text: taskText };\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            setError(err.message || 'Something went wrong!');\r\n        });\r\n\r\n    // setIsLoading(false);\r\n};\r\n\r\nexport default useFetch;\r\n"],"mappings":"AAAA,SAASA,SAAT,QAA0B,OAA1B;;AAEA,MAAMC,QAAQ,GAAG,CAACC,SAAD,EAAYC,QAAZ,EAAsBC,YAAtB,EAAoCC,QAApC,EAA8CC,QAA9C,KAA2D;EACxE;EACA;EACA,IAAIC,OAAO,GAAG,IAAd;;EAEA,IAAIL,SAAJ,EAAe;IACXK,OAAO,IACF,qEACD;MACIC,MAAM,EAAE,MADZ;MAEIC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QAAEC,IAAI,EAAEN;MAAR,CAAf,CAFV;MAGIO,OAAO,EAAE;QACL,gBAAgB;MADX;IAHb,CAFG,CAAP;EASH,CAVD,MAUO;IACHN,OAAO,GAAG,mEAAV;EACH;;EAEDO,KAAK,CAACP,OAAD,CAAL,CACKQ,IADL,CACWC,QAAD,IAAc;IAChB,IAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;MACd,MAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;IACH;;IAED,OAAOF,QAAQ,CAACG,IAAT,EAAP;EACH,CAPL,EAQKJ,IARL,CAQWK,IAAD,IAAU;IACZC,OAAO,CAACC,GAAR,CAAY,QAAZ;;IACA,IAAI,CAACpB,SAAL,EAAgB;MACZ,MAAMqB,WAAW,GAAG,EAApB;;MACA,KAAK,MAAMC,OAAX,IAAsBJ,IAAtB,EAA4B;QACxBG,WAAW,CAACE,IAAZ,CAAiB;UAAEC,EAAE,EAAEF,OAAN;UAAeZ,IAAI,EAAEQ,IAAI,CAACI,OAAD,CAAJ,CAAcZ;QAAnC,CAAjB;MACH;;MACDS,OAAO,CAACC,GAAR,CAAY,GAAZ;MACAjB,QAAQ,CAACkB,WAAD,CAAR;IACH,CAPD,MAOO;MACHF,OAAO,CAACC,GAAR,CAAY,GAAZ;MACA,MAAMK,WAAW,GAAGP,IAAI,CAACQ,IAAzB;MACA,MAAMC,WAAW,GAAG;QAAEH,EAAE,EAAEC,WAAN;QAAmBf,IAAI,EAAEN;MAAzB,CAApB;IACH;EACJ,CAtBL,EAuBKwB,KAvBL,CAuBYC,GAAD,IAAS;IACZ5B,QAAQ,CAAC4B,GAAG,CAACC,OAAJ,IAAe,uBAAhB,CAAR;EACH,CAzBL,EAnBwE,CA8CxE;AACH,CA/CD;;AAiDA,eAAe/B,QAAf"},"metadata":{},"sourceType":"module"}