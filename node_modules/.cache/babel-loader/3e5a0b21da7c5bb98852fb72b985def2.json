{"ast":null,"code":"const useFetch = props => {\n  props.setIsLoading(true);\n  props.setError(null);\n  fetch('https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json').then(response => {\n    if (!response.ok) {\n      throw new Error('Request failed!');\n    }\n\n    return response.json();\n  }).then(data => {\n    const loadedTasks = [];\n\n    for (const taskKey in data) {\n      loadedTasks.push({\n        id: taskKey,\n        text: data[taskKey].text\n      });\n    }\n\n    props.setTasks(loadedTasks);\n  }).catch(err => {\n    props.setError(err.message || 'Something went wrong!');\n  });\n  props.setIsLoading(false);\n};\n\nexport default useFetch;","map":{"version":3,"names":["useFetch","props","setIsLoading","setError","fetch","then","response","ok","Error","json","data","loadedTasks","taskKey","push","id","text","setTasks","catch","err","message"],"sources":["C:/Users/Sueli Cabral/Desktop/04-onwards-to-a-more-realistic-example/src/hooks/useFetch.js"],"sourcesContent":["const useFetch = (props) => {\r\n    props.setIsLoading(true);\r\n    props.setError(null);\r\n\r\n    fetch('https://custom-hooks-e72bb-default-rtdb.firebaseio.com/tasks.json')\r\n        .then((response) => {\r\n            if (!response.ok) {\r\n                throw new Error('Request failed!');\r\n            }\r\n\r\n            return response.json();\r\n        })\r\n        .then((data) => {\r\n            const loadedTasks = [];\r\n            for (const taskKey in data) {\r\n                loadedTasks.push({ id: taskKey, text: data[taskKey].text });\r\n            }\r\n\r\n            props.setTasks(loadedTasks);\r\n        })\r\n        .catch((err) => {\r\n            props.setError(err.message || 'Something went wrong!');\r\n        });\r\n\r\n    props.setIsLoading(false);\r\n};\r\n\r\nexport default useFetch;\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAIC,KAAD,IAAW;EACxBA,KAAK,CAACC,YAAN,CAAmB,IAAnB;EACAD,KAAK,CAACE,QAAN,CAAe,IAAf;EAEAC,KAAK,CAAC,mEAAD,CAAL,CACKC,IADL,CACWC,QAAD,IAAc;IAChB,IAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;MACd,MAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;IACH;;IAED,OAAOF,QAAQ,CAACG,IAAT,EAAP;EACH,CAPL,EAQKJ,IARL,CAQWK,IAAD,IAAU;IACZ,MAAMC,WAAW,GAAG,EAApB;;IACA,KAAK,MAAMC,OAAX,IAAsBF,IAAtB,EAA4B;MACxBC,WAAW,CAACE,IAAZ,CAAiB;QAAEC,EAAE,EAAEF,OAAN;QAAeG,IAAI,EAAEL,IAAI,CAACE,OAAD,CAAJ,CAAcG;MAAnC,CAAjB;IACH;;IAEDd,KAAK,CAACe,QAAN,CAAeL,WAAf;EACH,CAfL,EAgBKM,KAhBL,CAgBYC,GAAD,IAAS;IACZjB,KAAK,CAACE,QAAN,CAAee,GAAG,CAACC,OAAJ,IAAe,uBAA9B;EACH,CAlBL;EAoBAlB,KAAK,CAACC,YAAN,CAAmB,KAAnB;AACH,CAzBD;;AA2BA,eAAeF,QAAf"},"metadata":{},"sourceType":"module"}